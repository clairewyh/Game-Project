<StartingHomepage>:
    orientation: 'vertical'
    padding: '2.04cm'
    
    Image:
        source: "appicon.png"
        size_hint_y: None
        height: "5cm"

    Label:
        markup: True
        text: '[b]Jumpa-roo[/b]'
        font_size: '1.05833cm'

    BoxLayout:
        orientation: 'vertical'
        size_hint_y: None
        height: '150dp'  # Adjust height as needed
        spacing: '10dp'

        UserButton:
            text: "Teacher"
            font_size: '20sp'
            background_color: (0, 0.5, 1, 0.8)
            on_release: app.switch_to_login()

        UserButton:
            text: "Student"
            font_size: '20sp'
            background_color: (0, 0.5, 1, 0.8)
            on_release: app.switch_to_login()

<LogPage>:
    orientation: 'vertical'
    BoxLayout:
        size_hint_y: 0.2
        Label:
            markup: True
            text: '[b]Welcome to the Login Page[/b]'
            font_size: '0.7cm'

    Label:
        text: 'Username:'
        size_hint_y: 0.1
    TextInput:
        multiline: False
        size_hint_y: 0.1
        id: username_input

    Label:
        text: 'Password:'
        size_hint_y: 0.1
    TextInput:
        multiline: False
        password: True
        size_hint_y: 0.1
        id: password_input

    Button:
        text: 'Login'
        size_hint_y: 0.1
        background_color: 0.2, 0.8, 1, 1
        background_normal: ''
        on_press: root.login()

    Button:
        text: 'Sign Up'
        size_hint_y: 0.1
        background_color: 0.2, 0.8, 1, 1
        background_normal: ''
        on_press: root.signup()

<ClassPage>:
    orientation: "vertical"
    padding: "10dp"

    canvas.before:
        Rectangle:
            source: "bluegradient.png"
            pos: self.pos
            size: self.size

    Button:
        id: plus_button 
        size_hint: None, None
        size: "108dp", "90dp"
        pos_hint: {"right": 1, "top": 1}
        background_normal: "plus.png"
        background_down: "plusPressed.png"
        on_release: root.open_popup()
        
    Label:
        text: "Classes"
        font_size: 70
        height: "50dp"
        padding: "10dp"
        pos_hint: {"left": 1, "top": 1}
        bold: True

    ScrollView:
        size_hint_y: None
        height: "400dp"
        
        BoxLayout:
            id: classes_layout
            orientation: "vertical"
            size_hint_y: None
            spacing: "10dp"

<ClassButton>:
    size_hint_y: None
    height: "80dp"
    background_color: 0, 1, 0.827, 1  # Pale green color
    width: "200dp"

<ClassListPage>:
    orientation: "vertical"
    padding: 10
    name: 'class_list'

    canvas.before:
        Rectangle:
            source: "bluegradient.png"
            pos: self.pos
            size: self.size

      
    Label:
        text: "Class List"
        font_size: 70
        pos_hint: {"left": 1, "top": 1}
        height: "100dp"
        bold: True

    ScrollView:
        BoxLayout:
            orientation: "vertical"
            size_hint_y: None
            height: self.minimum_height
            spacing: "50dp"
            padding: "30dp"
            id: students

<StudentHomepage>:
    orientation: 'vertical'
    BoxLayout:
        size_hint_y: 0.2
        Label:
            markup: True
            text:'[b]Class Name[/b]'
            font_size: '1cm'
    
    Label:
        text: 'Enter your name:'
        size_hint_y: 0.1
        bold: True
    TextInput:
        id: name_input
        multiline: False
        size_hint_y: 0.1

    Label:
        text: 'Enter your goals:'
        size_hint_y: 0.1
        bold: True
    TextInput:
        id: first_goal
        multiline: False
        size_hint_y: 0.1
    TextInput:
        id: second_goal
        multiline: False
        size_hint_y: 0.1
    TextInput:
        id: third_goal
        multiline: False
        size_hint_y: 0.1

    Button:
        text: 'Set Goals'
        size_hint_y: 0.1
        background_color: 0.2, 0.8, 1, 1
        background_normal: ''
        bold: True
        on_press: root.goal_setting()

    Button:
        text: 'Fitness Report'
        size_hint_y: 0.3
        background_color: 0, 0.5, 1, 0.8
        background_normal: ''
        bold: True
        on_press: root.switch_to_exercise_screen()


<HomeScreen>:
    orientation: 'vertical'
    spacing: '10dp'
    padding: '10dp'
    id: home

    Label:
        text: 'Select Round'
        halign: 'center'
        font_size: '20sp'

    Button:
        text: 'Round 1'
        background_color: (0, 0.5, 1, 0.8)
        on_release: root.switch_to_round(1)

    Button:
        text: 'Round 2'
        background_color: (0, 0.5, 1, 0.8)
        on_release: root.switch_to_round(2)

    Button:
        text: 'Round 3'
        background_color: (0, 0.5, 1, 0.8)
        on_release: root.switch_to_round(3)

    Button:
        text: 'Round 4'
        background_color: (0, 0.5, 1, 0.8)
        on_release: root.switch_to_round(4)

    Button:
        text: 'Round 5'
        background_color: (0, 0.5, 1, 0.8)
        on_release: root.switch_to_round(5)


<RoundScreen>:
    orientation: 'vertical'
    spacing: '10dp'
    padding: '10dp'

    BoxLayout:
        orientation: 'horizontal'
        size_hint_y: None
        height: "48dp"
        padding: "10dp"

        Label:
            text: "User's Name:"
            size_hint_x: None
            width: "120dp"

        TextInput:
            id: user_name_input
            hint_text: "Enter your name"
            multiline: False
            size_hint_x: None
            width: "200dp"

    ScrollView:
        GridLayout:
            id: exercise_inputs
            cols: 3
            spacing: '10dp'
            padding: ('10dp', '10dp', '10dp', '20dp')  # Add bottom padding
            size_hint_y: None
            height: self.minimum_height
            row_default_height: '40dp'
            row_force_default: True
            col_default_width: '40dp'  # Set a default width for label column

    Button:
        text: 'Save Changes'
        background_color: (0, 0.5, 1, 0.8)
        on_release: root.save_data()
        size_hint_y: None
        height: "48dp"

    Button:
        text: "Back"
        background_color: (0, 0.5, 1, 0.8)
        on_release: root.switch_to_home()  # Navigate back to home screen
        size_hint_y: None
        height: "48dp"
        size_hint: None, None
        size: "100dp", "48dp"
        pos_hint: {"x": 0, "top": 1}  # Position in the top-left corner


<ExerciseLabel>:
    Label:
        text: root.text
        halign: 'center'
        font_size: '16sp'
        size_hint_x: None
        width: self.texture_size[0] + dp(5)  # Set width based on text size with some padding


<ExerciseInput>:
    TextInput:
        hint_text: root.hint_text
        multiline: False
        font_size: '16sp'
        size_hint_x: 0.3
        padding: '10dp'

<TeacherGoalpage>:
    orientation: 'vertical'
    BoxLayout:
        size_hint_y: 0.2
        Label:
            markup: True
            text: '[b]Class Name[/b]'
            font_size: '1cm'

    Button:
        text: 'Goals:'
        size_hint_y: 0.1
        background_color: 0, 0.5, 1, 0.8
        background_normal: ''
        bold: True

    BoxLayout:
        id: goals_box
        orientation: 'vertical'
        size_hint_y: 0.4

    Button:
        text: 'Fitness Report'
        size_hint_y: 0.3
        background_color: 0, 0.5, 1, 0.8
        background_normal: ''
        bold: True

